\colorlet{myblue}{black!40!blue}
\colorlet{myred}{black!40!red}
\colorlet{vcol}{green!50!black}
\colorlet{Ecol}{orange!90!black}
\colorlet{EVcol}{orange!80!black!60}
\colorlet{Bcol}{violet!90}






\scalebox{0.3}{%
\begin{tikzpicture}[x=(-15:1.2), y=(90:1.0), z=(-150:1.0),
    line cap=round, line join=round,
    axis/.style={black, thick,->},
    vector/.style={>=stealth,->}]
\large
\def\A{1.5}
\def\nNodes{5} % use even number
\def\nVectorsPerNode{8}
\def\N{\nNodes*40}
\def\xmax{\nNodes*pi/2*1.01}
\pgfmathsetmacro\nVectors{(\nVectorsPerNode+1)*\nNodes}

\def\vE{\mathbf{E}}
\def\vB{\mathbf{B}}
\def\vk{\mathbf{\hat{k}}}

% MAIN AXES
\draw[axis] (0,0,0) -- ++(\xmax*1.1,0,0) node[right] {$x$};
\draw[axis] (0,-\A*1.4,0) -- (0,\A*1.4,0) node[right] {$y$};
\draw[axis] (0,0,-\A*1.4) -- (0,0,\A*1.4) node[above left] {$z$};

% SMALL AXES
\def\xOffset{{(\nNodes-2)*pi/2}}
\def\yOffset{\A*1.2}
\def\zOffset{\A*1.2}
\draw[axis] (\xOffset,\yOffset,-\zOffset) -- ++(\A*0.6,0,0) node[right] {$\vk$};
\draw[axis] (\xOffset,\yOffset,-\zOffset) -- ++(0,\A*0.6,0) node[right] {$\vE$};
\draw[axis] (\xOffset,\yOffset,-\zOffset) -- ++(0,0,\A*0.6) node[above left] {$\vB$};

% equation
\node[above right] at (\xOffset,-0.5*\yOffset,4*\zOffset)
{$\begin{aligned}
\vE &= \mathbf{E_0}\sin(\vk\cdot\mathbf{x}-c_0t)\\
\vB &= \mathbf{B_0}\sin(\vk\cdot\mathbf{x}-c_0t)\\
\end{aligned}$};
\node[below right] at (\xOffset,-0.5*\yOffset,4*\zOffset)
{$\vE\cdot\vk = 0,\;\; \vB\cdot\vk = 0,\;\; \vB = \frac{1}{c_0}\vk\times\vE$};

% waves
\draw[very thick,variable=\t,domain=0:\nNodes*pi/2*1.01,samples=\N]
plot (\t,{\A*sin(\t*360/pi)},0);
\draw[very thick,variable=\t,domain=0:\nNodes*pi/2*1.01,samples=\N]
plot (\t,0,{\A*sin(\t*360/pi)});

% draw vectors
\foreach \k [evaluate={\t=\k*pi/2/(\nVectorsPerNode+1);
         \angle=\k*90/(\nVectorsPerNode+1);
         \c=(mod(\angle,90)!=0);}]
in {1,...,\nVectors}{
\if\c1
\draw[vector] (\t,0,0) -- ++(0,{\A*sin(2*\angle)},0);
\draw[vector] (\t,0,0) -- ++(0,0,{\A*sin(2*\angle)});
\fi
}

\end{tikzpicture}
}